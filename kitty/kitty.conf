# ================================
# ğŸ± Kitty ç»ˆç«¯é…ç½®æ–‡ä»¶
# ================================

# ============ ä¸»é¢˜è®¾ç½® ============
# ä½¿ç”¨ Catppuccin Mocha ä¸»é¢˜ï¼ˆæš—è‰²è°ƒï¼ŒæŠ¤çœ¼èˆ’é€‚ï¼‰
include current-theme.conf

# æˆ–è€…ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–ä¸»é¢˜ï¼š
# include themes/tokyo_night.conf
# include themes/gruvbox_dark.conf
# include themes/nord.conf

# ============ å­—ä½“é…ç½® ============
# ä¸»å­—ä½“ - Maple Mono æ˜¯ä¸“ä¸ºç¼–ç¨‹è®¾è®¡çš„å­—ä½“
font_family          Maple Mono NF CN ExtraLight
bold_font            Maple Mono NF CN Bold
italic_font          Maple Mono NF CN Italic
bold_italic_font     Maple Mono NF CN Bold Italic

# å­—ä½“å¤§å°ï¼ˆå¯æ ¹æ®å±å¹•è°ƒæ•´ï¼‰
font_size 18

# å­—ä½“ç‰¹æ€§ - å¯ç”¨è¿å­—å’Œç‰¹æ®Šå­—ç¬¦
font_features        MapleMono-NF-CN-ExtraLight +cv01 +ss02 +ss04 +ss05 +zero
font_features        MapleMono-NF-CN-Bold +cv01 +ss02 +ss04 +ss05 +zero
font_features        MapleMono-NF-CN-Italic +cv01 +ss02 +ss04 +ss05 +zero
font_features        MapleMono-NF-CN-BoldItalic +cv01 +ss02 +ss04 +ss05 +zero

# è°ƒæ•´å­—ä½“æ¸²æŸ“
text_composition_strategy platform
font_size_delta 2

# ç¦ç”¨ç‰¹å®šè¿å­—ï¼ˆé¿å…å…‰æ ‡ä½ç½®æ··ä¹±ï¼‰
disable_ligatures cursor

# ============ çª—å£å¤–è§‚ ============
# éšè—æ ‡é¢˜æ ä½†ä¿ç•™çª—å£æ§åˆ¶æŒ‰é’®
hide_window_decorations titlebar-only

# çª—å£å†…è¾¹è·ï¼ˆè®©å†…å®¹ä¸è´´è¾¹ï¼‰
window_padding_width 15

# èƒŒæ™¯é€æ˜åº¦å’Œæ¨¡ç³Šæ•ˆæœï¼ˆè¥é€ æ¯›ç»ç’ƒæ•ˆæœï¼‰
background_opacity 0.85
background_blur 64

# è®°ä½çª—å£å¤§å°
remember_window_size yes
initial_window_width 1400
initial_window_height 900

# çª—å£è¾¹æ¡†
window_border_width 2px
draw_minimal_borders yes

# ============ æ ‡ç­¾é¡µè®¾ç½® ============
# æ ‡ç­¾é¡µä½ç½®
tab_bar_edge top

# æ ‡ç­¾é¡µæ ·å¼ - fade æ•ˆæœæ›´ç°ä»£
tab_bar_style fade

# æ ‡ç­¾é¡µæ ‡é¢˜æ¨¡æ¿ï¼ˆæ˜¾ç¤ºæ´»åŠ¨çŠ¶æ€å’Œè¿›åº¦ï¼‰
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{tab.last_focused_progress_percent}{title}"

# æ ‡ç­¾é¡µå¤–è§‚
tab_bar_margin_width 5
tab_bar_margin_height 5 0
tab_fade 0.25 0.5 0.75 1

# ============ æ»šåŠ¨è®¾ç½® ============
# æ»šåŠ¨è¡Œæ•°
scrollback_lines 10000

# æ»šåŠ¨æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡
scrollback_pager_history_size 10

# ============ é¼ æ ‡è®¾ç½® ============
# é¼ æ ‡éšè—å»¶è¿Ÿ
mouse_hide_wait 3.0

# ç‚¹å‡» URL æ‰“å¼€
detect_urls yes

# å¤åˆ¶æ—¶å»é™¤è¡Œå°¾ç©ºæ ¼
strip_trailing_spaces smart

# ============ æ€§èƒ½ä¼˜åŒ– ============
# é‡ç»˜å»¶è¿Ÿï¼ˆé™ä½å¯æé«˜æ€§èƒ½ï¼‰
repaint_delay 10

# è¾“å…¥å»¶è¿Ÿ
input_delay 3

# åŒæ­¥åˆ°ç›‘è§†å™¨åˆ·æ–°ç‡
sync_to_monitor yes

# ============ é”®ç›˜æ˜ å°„ ============
# å¯ç”¨ macOS Option é”®ä½œä¸º Alt é”®
macos_option_as_alt yes

# === Vim/Neovim å¿«æ·é”® ===
# ä¿å­˜æ–‡ä»¶
map cmd+s send_text all \e:w\r

# æ–‡ä»¶æœç´¢
map cmd+p send_text all :Telescope find_files\r

# å…¨å±€æœç´¢
map cmd+shift+f send_text all :Telescope live_grep\r

# åˆ‡æ¢æ–‡ä»¶æ ‘
map cmd+b send_text all :Neotree toggle\r

# å¿«é€Ÿé€€å‡º
map cmd+q send_text all \e:q\r

# === æ ‡ç­¾é¡µç®¡ç† ===
# æ–°å»ºæ ‡ç­¾é¡µ
map cmd+t new_tab

# å…³é—­æ ‡ç­¾é¡µ
map cmd+w close_tab

# æ ‡ç­¾é¡µåˆ‡æ¢ï¼ˆä¿®å¤äº†é‡å¤æ˜ å°„ï¼‰
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# æ ‡ç­¾é¡µç§»åŠ¨
map cmd+shift+left move_tab_backward
map cmd+shift+right move_tab_forward

# === çª—å£ç®¡ç† ===
# æ–°å»ºçª—å£
map cmd+n new_window

# çª—å£åˆ‡æ¢
map cmd+[ previous_window
map cmd+] next_window

# çª—å£åˆ†å‰²
map cmd+d launch --location=hsplit
map cmd+shift+d launch --location=vsplit

# === æ–‡æœ¬æ“ä½œ ===
# å¤åˆ¶ç²˜è´´
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard

# é€‰æ‹©æ‰€æœ‰
map cmd+a select_all

# æŸ¥æ‰¾
map cmd+f show_scrollback

# å­—ä½“å¤§å°è°ƒæ•´
map cmd+plus change_font_size all +2.0
map cmd+minus change_font_size all -2.0
map cmd+0 change_font_size all 0

# === ç»ˆç«¯åŠŸèƒ½ ===
# æ¸…å±
map cmd+k clear_terminal reset active

# é‡å¯ç»ˆç«¯
map cmd+r clear_terminal reset active

# ============ é«˜çº§è®¾ç½® ============
# å…è®¸è¿œç¨‹æ§åˆ¶
allow_remote_control yes

# ç»ˆç«¯å“é“ƒ
enable_audio_bell no
visual_bell_duration 0.0

# å…‰æ ‡è®¾ç½®
cursor_shape block
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# é€‰æ‹©è®¾ç½®
rectangle_select_modifiers ctrl+alt
select_by_word_characters @-./_~?&=%+#

# ç»ˆç«¯ç±»å‹
term xterm-kitty

# ============ è‡ªå®šä¹‰å‘½ä»¤ ============
# å¿«é€Ÿå¯åŠ¨å¸¸ç”¨ç¨‹åº
map cmd+shift+n launch --type=tab --cwd=current

# å¿«é€Ÿç¼–è¾‘é…ç½®æ–‡ä»¶
map cmd+comma launch --type=tab nvim ~/.config/kitty/kitty.conf

# å¿«é€Ÿé‡è½½é…ç½®
map cmd+shift+r load_config_file

# ============ ç¯å¢ƒå˜é‡ ============
# è®¾ç½®ç¼–è¾‘å™¨
env EDITOR=nvim

# è®¾ç½®è¯­è¨€
env LANG=zh_CN.UTF-8

# ============ å¯åŠ¨è®¾ç½® ============
# å¯åŠ¨æ—¶çš„å·¥ä½œç›®å½•
startup_session session.conf

# è®°ä½æ ‡ç­¾é¡µ
remember_window_size yes

# ============ å®éªŒæ€§åŠŸèƒ½ ============
# å¯ç”¨å®éªŒæ€§åŠŸèƒ½ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
# allow_hyperlinks yes
# shell_integration enabled

# ================================
# é…ç½®æ–‡ä»¶ç»“æŸ
# é‡å¯ Kitty æˆ–æŒ‰ Cmd+Shift+R é‡æ–°åŠ è½½é…ç½®
# ================================